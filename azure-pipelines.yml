# Python package
# Create and test a Python package on multiple Python versions.
# Add steps that analyze code, save the dist with the build record, publish to a PyPI-compatible index, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/python

trigger:
  branches:
    include: [master, test-me-*]
  tags:
    include: ['*']

resources:
 repositories:
   - repository: cielquan
     type: github
     endpoint: github
     name: cielquan/azure-pipelines-template
     ref: master

jobs:
- template: run-tox.yml@cielquan
  parameters:
    tox_version: '3.15.0'
    tox_python: '3.7'
    checkout_submodules: true
    default_python: '3.7'
    os: lin
    tox_envs: [doc, py39]

- template: run-tox.yml@cielquan
  parameters:
    checkout_submodules: false
    os: win
    tox_envs: [doc, py39]
    architectures: [x64, x86]
